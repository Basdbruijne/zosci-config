- job:
    name: base
    pre-run: playbooks/osci-lint/pre.yaml
    post-run: playbooks/osci-lint/post.yaml
    roles:
      - zuul: zuul/zuul-jobs
    timeout: 1800
    nodeset:
      nodes:
        - name: bionic-small
          label: bionic-small
    secrets: &log_clouds
      - serverstack_cloud
- job:
    name: osci-lint
    description: "Run OSCI's lint task"
    run: playbooks/osci-lint/run.yaml
    parent: base
    nodeset:
      nodes:
        - name: test-node
          label: bionic-small

- job:
    name: func-target
    description: Run a functional test
    parent: tox
    vars:
      tox_envlist: func-target

- job:
    name: bionic-queens
    description: Run a functional test against bionic-queens
    parent: func-target
    vars:
      tox_extra_args: bionic-queens
